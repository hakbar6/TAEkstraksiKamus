{"cells":[{"cell_type":"code","execution_count":null,"metadata":{"id":"Y3wWpzb8CSAz"},"outputs":[],"source":["import pandas as pd\n","from sklearn.cluster import KMeans\n","import numpy as np\n","from ast import literal_eval"]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"YpQsaIpnNKHd","executionInfo":{"status":"ok","timestamp":1685430613990,"user_tz":-420,"elapsed":36143,"user":{"displayName":"Raden Fausta Anugrah Dianparama","userId":"17257992174951473980"}},"outputId":"efec6d4f-7048-4b38-af2b-cf30a3a58fb2"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}]},{"cell_type":"code","source":["def extract_names(ls):\n","    ret = []\n","    cur_num = 1\n","    tmp = []\n","    for isi in ls:\n","        try:\n","            isi[0].isnumeric()\n","            if isi[0].isnumeric() and int(isi[0]) == cur_num and tmp != []:\n","                cur_num += 1\n","                ret.append(tmp)\n","                tmp = []\n","            else:\n","                tmp.append(isi)\n","        except:\n","            tmp.append(isi)\n","    if tmp != []:\n","        ret.append(tmp)\n","    return ret\n"],"metadata":{"id":"hHUjVQCyjTtK"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["def to_entry(ls):\n","    ret = ''\n","    for isi in ls:\n","        ret += ' '\n","        ret += isi[0]\n","    return ret[1:]"],"metadata":{"id":"qqIGG-wPUbVR"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["def parse_polisemi(df):\n","    entri = []\n","    entry_font_size_pos = []\n","    posisi = []\n","    page = []\n","    is_padanan_lema = []\n","    for i, entry in df.iterrows():\n","        ent = entry['entry_font_size_pos']\n","        ls = extract_names(literal_eval(entry['entry_font_size_pos']))\n","        if len(ls) > 2:\n","            for isi in ls[1:]:\n","                entry_font_size_pos.append(str(ls[0] + isi))\n","                posisi.append(entry['posisi_entry'])\n","                page.append(entry['page'])\n","                is_padanan_lema.append(entry['is_padanan_lema'])\n","        else:\n","            entry_font_size_pos.append(str(entry['entry_font_size_pos']))\n","            posisi.append(entry['posisi_entry'])\n","            page.append(entry['page'])\n","            is_padanan_lema.append(entry['is_padanan_lema'])\n","    for isi in entry_font_size_pos:\n","        entri.append(to_entry(literal_eval(isi)))\n","    ret = pd.DataFrame()\n","    ret['Entri'] = entri\n","    ret['entry_font_size_pos'] = entry_font_size_pos\n","    ret['posisi_entry'] = posisi\n","    ret['page'] = page\n","    ret['is_padanan_lema'] = is_padanan_lema\n","    return ret"],"metadata":{"id":"rY7FC6qPhjbR"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["import os\n","from pathlib import Path\n","directory = \"/content/drive/MyDrive/TA Bareng Bareng/Laporan Mingguan TA Harakan Julian Fausta/Minggu 15 (Final)/Ekstraksi/\"\n","path = directory + '2. Preprocessing - Generalisasi Polisemi/'\n","cnt = 0\n","for filename in os.listdir(directory + '1. Preprocessing - Header & Footer/'):\n","    if(filename[-3:] == 'csv' and filename[0].isnumeric()):\n","        nomor = filename.split('.')[0]\n","        f = os.path.join(directory + '1. Preprocessing - Header & Footer/', filename)\n","        df = pd.read_csv(f)\n","        df_polisemi = parse_polisemi(df)\n","        df_polisemi.to_csv(path + nomor + \"_Parse.csv\", index = False)\n","        cnt += 1\n","        print('Done Kamus', nomor, '(Total', cnt, 'Kamus)')\n"],"metadata":{"id":"AN4utIgo9b1O","executionInfo":{"status":"ok","timestamp":1685430834625,"user_tz":-420,"elapsed":220639,"user":{"displayName":"Raden Fausta Anugrah Dianparama","userId":"17257992174951473980"}},"colab":{"base_uri":"https://localhost:8080/"},"outputId":"b898c0b0-b562-4f4e-a008-33302b251757"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Done Kamus 10 (Total 1 Kamus)\n","Done Kamus 12 (Total 2 Kamus)\n","Done Kamus 17 (Total 3 Kamus)\n","Done Kamus 18 (Total 4 Kamus)\n","Done Kamus 19 (Total 5 Kamus)\n","Done Kamus 2 (Total 6 Kamus)\n","Done Kamus 20 (Total 7 Kamus)\n","Done Kamus 21 (Total 8 Kamus)\n","Done Kamus 23 (Total 9 Kamus)\n","Done Kamus 24 (Total 10 Kamus)\n","Done Kamus 26 (Total 11 Kamus)\n","Done Kamus 27 (Total 12 Kamus)\n","Done Kamus 28 (Total 13 Kamus)\n","Done Kamus 29 (Total 14 Kamus)\n","Done Kamus 31 (Total 15 Kamus)\n","Done Kamus 32 (Total 16 Kamus)\n","Done Kamus 33 (Total 17 Kamus)\n","Done Kamus 34 (Total 18 Kamus)\n","Done Kamus 36 (Total 19 Kamus)\n","Done Kamus 38 (Total 20 Kamus)\n","Done Kamus 4 (Total 21 Kamus)\n","Done Kamus 41 (Total 22 Kamus)\n","Done Kamus 42 (Total 23 Kamus)\n","Done Kamus 44 (Total 24 Kamus)\n","Done Kamus 46 (Total 25 Kamus)\n","Done Kamus 5 (Total 26 Kamus)\n","Done Kamus 51 (Total 27 Kamus)\n","Done Kamus 52 (Total 28 Kamus)\n","Done Kamus 54 (Total 29 Kamus)\n","Done Kamus 55 (Total 30 Kamus)\n","Done Kamus 56 (Total 31 Kamus)\n","Done Kamus 58 (Total 32 Kamus)\n","Done Kamus 60 (Total 33 Kamus)\n","Done Kamus 63 (Total 34 Kamus)\n","Done Kamus 66 (Total 35 Kamus)\n","Done Kamus 68 (Total 36 Kamus)\n","Done Kamus 71 (Total 37 Kamus)\n","Done Kamus 78 (Total 38 Kamus)\n","Done Kamus 84 (Total 39 Kamus)\n","Done Kamus 85 (Total 40 Kamus)\n","Done Kamus 87 (Total 41 Kamus)\n","Done Kamus 89 (Total 42 Kamus)\n","Done Kamus 91 (Total 43 Kamus)\n"]}]}],"metadata":{"interpreter":{"hash":"31f2aee4e71d21fbe5cf8b01ff0e069b9275f58929596ceb00d14d90e3e16cd6"},"kernelspec":{"display_name":"Python 3.8.2 64-bit","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.2"},"colab":{"provenance":[{"file_id":"16lQOa7NTkkbF_c6YoCdofmppr9SdFJjn","timestamp":1694335068233}]}},"nbformat":4,"nbformat_minor":0}